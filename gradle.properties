you# ===== AGP 9.0 + HILT + KSP COMPATIBILITY =====
# CRITICAL: KSP is NOT compatible with AGP's built-in Kotlin!
# This MUST stay enabled for Genesis convention plugins to work
android.disableLastStageWhenHiltIsApplied=true
android.nonFinalResIds=true
android.nonTransitiveRClass=true
android.useAndroidX=true
android.enableProguard=true
android.enableR2=true
android.enableDesugaring=true
android.enableAndroidResources=true
android.enableAndroidAssets=true
android.enableAndroidx=true
android.useFullClasspathForDexingTransform=true
useKsp2=true
kotlin.incremental=true
kotlin.useIR=true
ksp.kotlinApiVersion=2.3
ksp.kotlinLanguageVersion=2.3
# IMPORTANT: Keep the following flag set to false for now.
# Reason: The project's convention plugins and KSP-based code generation require
# Gradle/AGP to use the external Kotlin plugin (not the AGP built-in Kotlin).
# Setting 'android.builtInKotlin=false' preserves that behavior and avoids
# breaking KSP/Hilt/Convention plugin workflows.
#
# DO NOT change this without first:
# 1) Updating convention plugins in `build-logic/` to be compatible with AGP's
#    built-in Kotlin, AND
# 2) Verifying KSP and Hilt codegen work under the new configuration, and
# 3) Running the full build and tests.
#
# Note: This property is deprecated and will be removed in AGP 10.0. Plan to
# migrate the convention plugins and KSP usages before upgrading AGP to 10.x.
android.builtInKotlin=false
# Workaround: AGP new DSL causes incompatibility with the external Kotlin plugin.
# Setting android.newDsl=false keeps the legacy DSL so `org.jetbrains.kotlin.android`
# can be applied while android.builtInKotlin=false (required for KSP). Do not remove
# this flag unless migrating convention plugins and KSP usage.
android.newDsl=false
# Gradle configuration cache
org.gradle.configuration-cache=off
org.gradle.configuration-cache.parallel-mode=true
org.gradle.configuration-cache.use-warning-mode=true
org.gradle.configuration-cache.problems=warn
# Java toolchain - Auto-download enabled for Java 24
org.gradle.daemon=true
org.gradle.java.installations.auto-download=true
org.gradle.jvmargs=-Xmx8g
# Dokka V2 migration
org.jetbrains.dokka.experimental.gradle.pluginMode=V2Enabled
org.jetbrains.dokka.experimental.gradle.pluginMode.noWarn=true
